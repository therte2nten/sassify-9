@use '../utilities/type/is-color' as *;

/// @name amcss__prefix
/// @group AMCSS
/// @since 9.0.0
/// @access public
/// @type string
$amcss__prefix: 'am-' !default;

/// –ú–∏–∫—Å–∏–Ω `amcss()` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å CSS-—Å—Ç–∏–ª–∏ –≤
/// —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–µ–π [AMCSS](https://habr.com/ru/post/256109/)
/// ---
/// @name amcss
/// @group AMCSS
/// @since 9.0.0
/// @access public
/// @author W3cplus
/// @link http://sassmeister.com/gist/2709da070d6aac25a9f5 –ü–µ—Å–æ—á–Ω–∏—Ü–∞ –¥–ª—è —Ç–µ—Å—Ç–∞
/// @link https://github.com/W3cplus/SassMagic/blob/master/src/mixins/_amcss.scss –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
/// @link https://habr.com/ru/post/256109/ –û–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –Ω–∞ –•–∞–±—Ä–µ
/// @example scss –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Sass (SCSS)
/// 	@include amcss(module) {
/// 		color: red;
/// 	}
///
/// 	@include amcss(module, blue) {
/// 		color: blue;
/// 	}
///
/// 	@include amcss(module, large) {
/// 		font-size: 2em;
/// 	}
/// @example css –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ CSS
/// 	[am-module] {
/// 		color: red;
/// 	}
///
/// 	[am-module~="blue"] {
/// 		color: blue;
/// 	}
///
/// 	[am-module~="large"] {
/// 		font-size: 2em;
/// 	}
/// @param {string} $module - –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è
/// @param {string | number} $trait [null] - –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è
/// @param {string} prefix [$amcss__prefix] - –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –∞—Ç—Ä–∏–±—É—Ç–∞
@mixin amcss(
	$module,
	$trait: null,
	$prefix: $amcss__prefix) {

	@if $trait != null {

		[#{$prefix}#{$module}~="#{$trait}"]{
			@content;
		}

		@if is-color($trait) == true {
			$-warn-message: 'üüß –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –µ—Å–ª–∏ –≤—ã –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –º–æ–¥—É–ª—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ CSS-—Ü–≤–µ—Ç–∞ (–Ω–∞–ø—Ä.: blue, green, red), —Ç–æ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤ –∫–∞–≤—ã—á–∫–∞—Ö, —á—Ç–æ–±—ã –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä Sass –Ω–µ –≤—ã–¥–∞–≤–∞–ª –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π.';
			@warn $-warn-message;
		}

	}

	@else {
		[#{$prefix}#{$module}]{
			@content;
		}
	}

}
